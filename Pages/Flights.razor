@page "/flights"
@using Assignment2.Models;

<div class="d-flex flex-row justify-content-evenly">

	<div class="d-flex flex-column">
		<h3>Flights</h3>

	</div>

	<div class="d-flex flex-column align-items-center">
		<h3>Reserve</h3>
		<form class="d-flex flex-column align-items-end">
			<div class="form-group d-flex flex-row align-items-center">
				<label for="flight">Flight: </label> &nbsp
				<input type="text" class="form-control" id="inputFlight" />
			</div>
			<div class="form-group d-flex flex-row align-items-center">
				<label for="airline">Airline: </label> &nbsp
				<input type="text" class="form-control" id="inputAirline" />
			</div>
			<div class="form-group d-flex flex-row align-items-center">
				<label for="day">Day: </label> &nbsp
				<input type="text" class="form-control" id="inputDay" />
			</div>
			<div class="form-group d-flex flex-row align-items-center">
				<label for="time">Time: </label> &nbsp
				<input type="text" class="form-control" id="inputTime" />
			</div>
			<div class="form-group d-flex flex-row align-items-center">
				<label for="cost">Cost: </label> &nbsp
				<input type="text" class="form-control" id="inputCost" />
			</div>
			<div class="form-group d-flex flex-row align-items-center">
				<label for="name">Name: </label> &nbsp
				<input type="text" class="form-control" id="inputName" />
			</div>
			<div class="form-group d-flex flex-row align-items-center">
				<label for="citizenship">Citizenship: </label> &nbsp
				<input type="text" class="form-control" id="inputCitizenship" />
			</div>
		</form>
		<button type="button" class="btn btn-primary mt-3">Reserve</button>
	</div>

</div>


<div class="d-flex flex-column align-items-center justify-content-center mt-4">
	<h3>Flight Finder</h3>
	<div class="d-flex flex-column align-items-end">
		<div class="d-flex flex-row align-items-center justify-content-center mb-2">
			<div>From: </div> &nbsp;
			<select @onchange="SelectAirport" class="form-select" style="min-width:400px;">
				@foreach (var airport in airports)
				{
					<option value="@airport.AirportCode">@airport.AirportCode</option>
				}
			</select>
		</div>
		<div class="d-flex flex-row align-items-center justify-content-center mb-2">
			<div>To: </div> &nbsp;
			<select @onchange="SelectAirport" class="form-select" style="min-width:400px;">
				@foreach (var airport in airports)
				{
					<option value="@airport.AirportCode">@airport.AirportCode</option>
				}
			</select>
		</div>
		<div class="d-flex flex-row align-items-center justify-content-center mb-2">
			<div>Day: </div> &nbsp;
			<select onchange="SelectDays" class="form-select" style="min-width:400px;">
				@foreach (var day in days)
				{
					<option value="@day.ToString()">@day.ToString()</option>
				}
			</select>
		</div>
	</div>
	<button type="button" class="btn btn-primary mt-3">Find flights</button>
</div>

@code {

	AirportManager am = new AirportManager();
	List<Airport> airports = AirportManager.GetAirports();

	string airportCode;

	FlightManager fm = new FlightManager();
	List<Flight> flights = FlightManager.GetFlights();
	List<string> days = FlightManager.GetDays();

	string flightMessage;
	string day;

	private void SelectAirport(ChangeEventArgs e)
	{
		airportCode = e.Value.ToString();
	}

	private void ShowFlight(ChangeEventArgs e)
	{
		flightMessage = e.Value.ToString();
	}

	private void SelectDays(ChangeEventArgs e)
	{
		day = e.Value.ToString();
	}
}
